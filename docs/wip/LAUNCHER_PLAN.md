# LAUNCHER + Offline/Online Mode Plan

> **Status:** PLANNING | **Created:** 2026-01-04

---

## The Vision

**The Launcher REPLACES the login page.** It's the beautiful first impression with built-in updates.

### Normal State (No Update)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚                    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                         â”‚
â”‚                    â”‚    [LocaNext]    â”‚                         â”‚
â”‚                    â”‚      LOGO        â”‚                         â”‚
â”‚                    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                         â”‚
â”‚                                                                 â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚              â”‚  â—  Central Server Connected    â”‚                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                 â”‚
â”‚                   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                     â”‚
â”‚                   â”‚    Start Offline      â”‚                     â”‚
â”‚                   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                     â”‚
â”‚                                                                 â”‚
â”‚                   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                     â”‚
â”‚                   â”‚        Login          â”‚                     â”‚
â”‚                   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                     â”‚
â”‚                                                                 â”‚
â”‚                         v26.104.1600                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Update In Progress State (Industry Giant Style!)

Like League of Legends, Battle.net, Steam, Epic Games - **BIG progress bar at bottom with ALL details:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚                    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                         â”‚
â”‚                    â”‚    [LocaNext]    â”‚                         â”‚
â”‚                    â”‚      LOGO        â”‚                         â”‚
â”‚                    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                         â”‚
â”‚                                                                 â”‚
â”‚                   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                     â”‚
â”‚                   â”‚    Start Offline      â”‚  â† Still usable!   â”‚
â”‚                   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                     â”‚
â”‚                                                                 â”‚
â”‚                   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                     â”‚
â”‚                   â”‚        Login          â”‚                     â”‚
â”‚                   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                     â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš¡ UPDATING TO v26.105.1200                                    â”‚
â”‚                                                                 â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  68%     â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“¦ Downloading: app.asar                          12.3 / 18 MB â”‚
â”‚  âš¡ Speed: 2.1 MB/s                             ~3 sec remaining â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âœ“ manifest.json                                    verified â”‚â”‚
â”‚  â”‚ â— app.asar                                      downloading â”‚â”‚
â”‚  â”‚ â—‹ component-state.json                             pending  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  Total: 18.2 MB  â€¢  Files: 2/3  â€¢  Saved: 606 MB (97% smaller!) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Details Panel Shows:

| Element | Description |
|---------|-------------|
| **Version Badge** | "UPDATING TO v26.105.1200" |
| **Main Progress Bar** | Big, colorful, animated |
| **Current File** | "Downloading: app.asar" |
| **Size Progress** | "12.3 / 18 MB" |
| **Speed** | "2.1 MB/s" |
| **Time Remaining** | "~3 sec remaining" |
| **File List** | âœ“ done, â— current, â—‹ pending |
| **Summary Footer** | Total size, file count, savings % |

### Update Complete State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚                    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                         â”‚
â”‚                    â”‚    [LocaNext]    â”‚                         â”‚
â”‚                    â”‚      LOGO        â”‚                         â”‚
â”‚                    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                         â”‚
â”‚                                                                 â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚              â”‚  âœ“ Updated to v26.105!          â”‚                â”‚
â”‚              â”‚    Only 18 MB (97% smaller!)    â”‚                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                 â”‚
â”‚                   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                     â”‚
â”‚                   â”‚    Start Offline      â”‚                     â”‚
â”‚                   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                     â”‚
â”‚                                                                 â”‚
â”‚                   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                     â”‚
â”‚                   â”‚        Login          â”‚                     â”‚
â”‚                   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                     â”‚
â”‚                                                                 â”‚
â”‚                         v26.105.xxxx                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Server Offline State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚                    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                         â”‚
â”‚                    â”‚    [LocaNext]    â”‚                         â”‚
â”‚                    â”‚      LOGO        â”‚                         â”‚
â”‚                    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                         â”‚
â”‚                                                                 â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚              â”‚  â—‹  Central Server Offline      â”‚                â”‚
â”‚              â”‚     Working in offline mode     â”‚                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                 â”‚
â”‚                   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                 â”‚
â”‚                   â”‚    Start Offline          â”‚  â† Only option  â”‚
â”‚                   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                 â”‚
â”‚                                                                 â”‚
â”‚                   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                 â”‚
â”‚                   â”‚        Login              â”‚  â† Disabled     â”‚
â”‚                   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## KEY: Launcher REPLACES Login Page

The current `Login.svelte` page becomes the `Launcher.svelte`:

| Current | New |
|---------|-----|
| Login page shows after app loads | Launcher shows FIRST |
| UpdateModal is separate popup | Updates built into launcher |
| No offline option | [Start Offline] button |
| Must have credentials | Work without login |

---

## Core Concept

| Mode | Credentials | Database | Updates | Use Case |
|------|-------------|----------|---------|----------|
| **Offline** | None needed | Local SQLite | Yes (if server reachable) | Quick start, no account, single-user |
| **Online** | Required | Central PostgreSQL | Yes | Multi-user, sync, full features |

**Key Insight:** Updates don't require authentication! Central server can serve updates to anyone.

---

## User Flows

### Flow 1: Start Offline (No Credentials)

```
User opens app
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LAUNCHER            â”‚
â”‚ â€¢ Check updates     â”‚ â† Can update even without login!
â”‚ â€¢ Show status       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
User clicks [Start Offline]
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MAIN APP            â”‚
â”‚ â€¢ Local SQLite      â”‚
â”‚ â€¢ Single-user mode  â”‚
â”‚ â€¢ All tools work    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
User wants online features
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LOGIN MODAL POPS    â”‚ â† Auto-appears when online feature needed
â”‚ â€¢ Enter credentials â”‚
â”‚ â€¢ [x] Remember me   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
Now in Online mode (seamless transition)
```

### Flow 2: Login Directly

```
User opens app
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LAUNCHER            â”‚
â”‚ â€¢ Check updates     â”‚
â”‚ â€¢ Download patches  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
User clicks [Login]
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LOGIN FORM          â”‚
â”‚ â€¢ Username          â”‚
â”‚ â€¢ Password          â”‚
â”‚ â€¢ [x] Remember me   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MAIN APP            â”‚
â”‚ â€¢ Central PostgreSQLâ”‚
â”‚ â€¢ Multi-user sync   â”‚
â”‚ â€¢ Full features     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow 3: Offline â†’ Online Transition

```
User is in Offline mode
    â†“
Clicks feature that needs online (e.g., shared TM)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CONNECT ONLINE                      â”‚
â”‚                                     â”‚
â”‚ This feature requires online mode.  â”‚
â”‚                                     â”‚
â”‚ Username: [____________]            â”‚
â”‚ Password: [____________]            â”‚
â”‚ [x] Remember credentials            â”‚
â”‚                                     â”‚
â”‚ [Cancel]              [Connect]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
Credentials validated â†’ Switch to Online mode
    â†“
Feature now works, data syncs to central server
```

### Flow 4: No Internet, Has Cached Credentials

```
User opens app (no internet)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LAUNCHER            â”‚
â”‚ â€¢ Server: Offline   â”‚
â”‚ â€¢ Can't check for   â”‚
â”‚   updates           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
[Start Offline] â† Only option available
    â†“
App works with local data
```

---

## Architecture

### Launcher Component

```
locaNext/
â”œâ”€â”€ electron/
â”‚   â”œâ”€â”€ launcher.html      â† Launcher window (small, beautiful)
â”‚   â”œâ”€â”€ launcher-preload.js
â”‚   â””â”€â”€ main.js            â† Creates launcher window first
â””â”€â”€ src/
    â””â”€â”€ lib/
        â””â”€â”€ components/
            â””â”€â”€ Launcher.svelte  â† Launcher UI
```

### Launcher Responsibilities

1. **Check Central Server Status**
   - Ping server health endpoint (no auth needed)
   - Show: "Connected â—" or "Offline â—‹"

2. **Check for Updates**
   - Fetch manifest.json (no auth needed)
   - Download patches if available
   - Show progress bar

3. **Present Options**
   - [Start Offline] - Always available
   - [Login] - Available if server connected

4. **Handle Credentials**
   - Store in secure storage (electron-store encrypted)
   - Auto-fill if remembered
   - Validate before launching main app

### Mode Manager

```javascript
// stores/mode.js
export const appMode = writable('offline'); // 'offline' | 'online'
export const serverStatus = writable('unknown'); // 'connected' | 'offline' | 'unknown'

// When mode changes from offline to online:
// 1. Validate credentials
// 2. Connect to PostgreSQL
// 3. Sync local changes to server
// 4. Switch database adapter
```

### Database Switching

```
OFFLINE MODE                    ONLINE MODE
â”œâ”€â”€ SQLite (local)              â”œâ”€â”€ PostgreSQL (central)
â”œâ”€â”€ /appdata/locanext.db        â”œâ”€â”€ 172.28.150.120:5432
â”œâ”€â”€ Single-user                 â”œâ”€â”€ Multi-user
â””â”€â”€ No sync                     â””â”€â”€ WebSocket sync
```

---

## UI Components

### 1. Launcher Window

- Small window (400x500px)
- Beautiful gradient background
- LocaNext logo
- Update progress bar
- Status indicators
- Two main buttons

### 2. Online/Offline Toggle (Main App)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header                    [â—‹ Offline]â”‚  â† Click to switch
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

When clicked in Offline mode â†’ Login modal appears

### 3. Login Modal (In-App)

- Appears when:
  - User clicks [Login] in launcher
  - User tries online feature while offline
  - User clicks Online toggle
- Fields: Username, Password, Remember me
- Shows server status

---

## What Works in Each Mode

| Feature | Offline | Online |
|---------|---------|--------|
| XLSTransfer | âœ… | âœ… |
| QuickSearch | âœ… | âœ… |
| KR Similar | âœ… | âœ… |
| LDM (local files) | âœ… | âœ… |
| LDM (shared projects) | âŒ | âœ… |
| Translation Memory (local) | âœ… | âœ… |
| Translation Memory (shared) | âŒ | âœ… |
| Qwen AI | âœ… | âœ… |
| User Management | âŒ | âœ… |
| Activity Logging | Local | Central |
| Real-time Sync | âŒ | âœ… |

---

## Implementation Phases

### Phase 1: Launcher Window
- Create launcher.html and Launcher.svelte
- Server status check (no auth)
- Update check and download
- [Start Offline] and [Login] buttons

### Phase 2: Offline Mode Foundation
- SQLite database setup
- Local-only user (no auth needed)
- All tools work locally

### Phase 3: Mode Switching
- Online/Offline toggle in main app
- Login modal component
- Credential storage (secure)

### Phase 4: Database Adapter
- Abstract database layer
- SQLite adapter for offline
- PostgreSQL adapter for online
- Seamless switching

### Phase 5: Sync Engine
- Queue local changes when offline
- Sync to server when going online
- Conflict resolution

---

## Key Benefits

1. **Instant Start** - No login needed for offline work
2. **Always Updated** - Patches download before app starts
3. **Seamless Transition** - Switch modes without restarting
4. **Works Anywhere** - No internet? No problem.
5. **Beautiful UX** - Launcher-style professional feel

---

## Questions to Decide

1. **Launcher size?** Minimal (400x500) or larger with more info?
2. **Auto-login?** If credentials saved, skip launcher and go straight to app?
3. **Sync conflict resolution?** Last-write-wins or manual merge?
4. **Offline user identity?** Anonymous or local username?

---

*Plan created: 2026-01-04*
