# LocaNext 보안 아키텍처 요약서

**보안 부서 검토용 | Security Department Review**

---

```
╔═══════════════════════════════════════════════════════════════════════════════╗
║                                                                               ║
║                            LocaNext Platform                                  ║
║                      로컬라이제이션 통합 플랫폼                                  ║
║                                                                               ║
║                         버전: 2512 | 2025년 12월                               ║
║                                                                               ║
╚═══════════════════════════════════════════════════════════════════════════════╝
```

---

## 목차

1. [플랫폼 개요](#1-플랫폼-개요)
2. [시스템 아키텍처](#2-시스템-아키텍처)
3. [보안 아키텍처](#3-보안-아키텍처)
4. [인증 및 접근 제어](#4-인증-및-접근-제어)
5. [데이터 보안](#5-데이터-보안)
6. [감사 및 모니터링](#6-감사-및-모니터링)
7. [네트워크 보안](#7-네트워크-보안)
8. [보안 테스트 현황](#8-보안-테스트-현황)
9. [규정 준수](#9-규정-준수)

---

## 1. 플랫폼 개요

### 목적

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           플랫폼 목적                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   LocaNext는 게임 로컬라이제이션 작업을 위한 통합 데스크톱 플랫폼입니다.         │
│                                                                             │
│   핵심 목표:                                                                 │
│   ├── 분산된 Python 스크립트들을 하나의 보안 애플리케이션으로 통합              │
│   ├── 실시간 다중 사용자 협업 지원 (WebSocket 기반)                           │
│   ├── 대규모 번역 데이터 관리 (100만+ 행 처리 가능)                            │
│   └── 기업 보안 요구사항 충족 (인증, 감사, 접근 제어)                          │
│                                                                             │
│   주력 기능: LDM (LanguageData Manager)                                      │
│   ├── CAT(Computer-Assisted Translation) 도구                               │
│   ├── 번역 메모리(TM) 시스템                                                 │
│   ├── 실시간 협업 편집                                                       │
│   └── 자동 품질 검사                                                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 운영 환경

| 구분 | 내용 |
|------|------|
| **사용자 수** | 5-50명 (번역팀) |
| **네트워크** | 사내 네트워크 (폐쇄망 운영 가능) |
| **데이터 유형** | 게임 텍스트 (비밀 등급 없음, 사내 기밀) |
| **운영 방식** | 온프레미스 (자체 서버) |

---

## 2. 시스템 아키텍처

### 전체 구성도

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          시스템 아키텍처                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                              인터넷 차단                                     │
│                                  ┃                                          │
│                           ┌─────┻─────┐                                     │
│                           │  방화벽    │                                     │
│                           └─────┬─────┘                                     │
│                                 │                                           │
│   ══════════════════════════════╪════════════════════════════════════════   │
│                           사내 네트워크                                      │
│   ══════════════════════════════╪════════════════════════════════════════   │
│                                 │                                           │
│       ┌─────────────────────────┼─────────────────────────┐                 │
│       │                         │                         │                 │
│       ▼                         ▼                         ▼                 │
│   ┌─────────┐             ┌─────────┐             ┌─────────┐               │
│   │ 사용자A  │             │ 사용자B  │             │ 사용자C  │               │
│   │ LocaNext│             │ LocaNext│             │ LocaNext│               │
│   │ Desktop │             │ Desktop │             │ Desktop │               │
│   └────┬────┘             └────┬────┘             └────┬────┘               │
│        │                       │                       │                    │
│        │     HTTPS/WSS (암호화 통신 가능)              │                    │
│        └───────────────────────┼───────────────────────┘                    │
│                                │                                            │
│                                ▼                                            │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │                       APPLICATION SERVER                             │   │
│   │                       (단일 서버 구성)                                │   │
│   │  ┌─────────────────────────────────────────────────────────────┐    │   │
│   │  │                                                             │    │   │
│   │  │  ┌─────────────────┐    ┌─────────────────┐                │    │   │
│   │  │  │   FastAPI       │    │   PostgreSQL    │                │    │   │
│   │  │  │   REST API      │◄──►│   Database      │                │    │   │
│   │  │  │   Port 8888     │    │   Port 5432     │                │    │   │
│   │  │  │                 │    │                 │                │    │   │
│   │  │  │ • JWT 인증      │    │ • 데이터 암호화  │                │    │   │
│   │  │  │ • IP 필터링     │    │ • 접근 제어     │                │    │   │
│   │  │  │ • CORS 보호     │    │ • 감사 로그     │                │    │   │
│   │  │  │ • 감사 로깅     │    │                 │                │    │   │
│   │  │  └─────────────────┘    └─────────────────┘                │    │   │
│   │  │                                                             │    │   │
│   │  └─────────────────────────────────────────────────────────────┘    │   │
│   │                                                                     │   │
│   │  리소스: CPU 2코어 | RAM 2GB | 디스크 50GB                          │   │
│   │                                                                     │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 컴포넌트 구성

```
LocaNext 플랫폼
│
├── 클라이언트 (Electron Desktop App)
│   ├── 크로스 플랫폼 (Windows, macOS, Linux)
│   ├── 로컬 처리 (민감 데이터 서버 미전송 옵션)
│   ├── 자동 업데이트 (서명된 패키지)
│   └── 오프라인 모드 지원
│
├── 백엔드 서버 (FastAPI + Python)
│   ├── RESTful API (55+ 엔드포인트)
│   ├── WebSocket 실시간 동기화
│   ├── 비동기 처리
│   └── 태스크 큐 관리
│
├── 데이터베이스 (PostgreSQL)
│   ├── 29개 테이블
│   ├── 40+ 최적화 인덱스
│   ├── 연결 풀링
│   └── 자동 백업
│
└── 업데이트 서버 (Gitea - 선택사항)
    ├── 자체 호스팅 릴리즈
    └── 버전 관리
```

---

## 3. 보안 아키텍처

### 보안 계층 구조 (Defense in Depth)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         보안 계층 구조                                       │
│                    (DEFENSE IN DEPTH)                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │  LAYER 1: 네트워크 보안 (Network Security)                          │  │
│   │  ═══════════════════════════════════════════                        │  │
│   │                                                                     │  │
│   │   ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                │  │
│   │   │ IP 화이트   │  │   CORS      │  │   TLS       │                │  │
│   │   │ 리스트      │  │   정책      │  │   암호화    │                │  │
│   │   │             │  │             │  │  (선택)     │                │  │
│   │   │ • 허용 IP   │  │ • Origin    │  │             │                │  │
│   │   │   대역 설정 │  │   검증      │  │ • HTTPS     │                │  │
│   │   │ • 차단 로깅 │  │ • CSRF 방지 │  │ • WSS       │                │  │
│   │   └─────────────┘  └─────────────┘  └─────────────┘                │  │
│   │                                                                     │  │
│   │   테스트: 24개                     테스트: 11개                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                    │                                       │
│                                    ▼                                       │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │  LAYER 2: 인증/인가 (Authentication/Authorization)                  │  │
│   │  ═════════════════════════════════════════════════                  │  │
│   │                                                                     │  │
│   │   ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                │  │
│   │   │    JWT      │  │   역할      │  │   세션      │                │  │
│   │   │   토큰      │  │  기반      │  │   관리      │                │  │
│   │   │             │  │  접근제어   │  │             │                │  │
│   │   │ • HS256     │  │             │  │ • 타임아웃  │                │  │
│   │   │ • 만료시간  │  │ • admin     │  │ • 동시접속  │                │  │
│   │   │ • 갱신토큰  │  │ • user      │  │   제한      │                │  │
│   │   └─────────────┘  └─────────────┘  └─────────────┘                │  │
│   │                                                                     │  │
│   │   테스트: 22개                                                      │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                    │                                       │
│                                    ▼                                       │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │  LAYER 3: 데이터 보안 (Data Security)                               │  │
│   │  ════════════════════════════════════                               │  │
│   │                                                                     │  │
│   │   ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                │  │
│   │   │   입력      │  │   비밀      │  │   백업      │                │  │
│   │   │   검증      │  │   관리      │  │   암호화    │                │  │
│   │   │             │  │             │  │             │                │  │
│   │   │ • SQL 인젝션│  │ • 환경변수  │  │ • 자동백업  │                │  │
│   │   │   방지      │  │ • .env 파일 │  │ • GZIP 압축 │                │  │
│   │   │ • XSS 방지  │  │ • 하드코딩  │  │ • 보존기간  │                │  │
│   │   │             │  │   금지      │  │   설정      │                │  │
│   │   └─────────────┘  └─────────────┘  └─────────────┘                │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                    │                                       │
│                                    ▼                                       │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │  LAYER 4: 감사/모니터링 (Audit/Monitoring)                          │  │
│   │  ══════════════════════════════════════════                         │  │
│   │                                                                     │  │
│   │   ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                │  │
│   │   │   감사      │  │   실시간    │  │   알림      │                │  │
│   │   │   로그      │  │   모니터링  │  │   시스템    │                │  │
│   │   │             │  │             │  │             │                │  │
│   │   │ • 로그인    │  │ • 접속현황  │  │ • 이상탐지  │                │  │
│   │   │ • 파일접근  │  │ • 리소스    │  │ • 관리자    │                │  │
│   │   │ • 데이터변경│  │   사용량    │  │   대시보드  │                │  │
│   │   └─────────────┘  └─────────────┘  └─────────────┘                │  │
│   │                                                                     │  │
│   │   테스트: 29개                                                      │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│   ═══════════════════════════════════════════════════════════════════════  │
│   총 보안 테스트: 86개 (전체 통과)                                          │
│   ═══════════════════════════════════════════════════════════════════════  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. 인증 및 접근 제어

### 인증 흐름

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           인증 흐름도                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   사용자                    서버                        데이터베이스          │
│     │                        │                              │               │
│     │  1. 로그인 요청        │                              │               │
│     │  (username/password)   │                              │               │
│     │───────────────────────►│                              │               │
│     │                        │                              │               │
│     │                        │  2. IP 화이트리스트 확인      │               │
│     │                        │─────────┐                    │               │
│     │                        │         │                    │               │
│     │                        │◄────────┘                    │               │
│     │                        │                              │               │
│     │                        │  3. 사용자 조회              │               │
│     │                        │─────────────────────────────►│               │
│     │                        │                              │               │
│     │                        │  4. 비밀번호 해시 검증        │               │
│     │                        │◄─────────────────────────────│               │
│     │                        │                              │               │
│     │                        │  5. 감사 로그 기록            │               │
│     │                        │─────────────────────────────►│               │
│     │                        │                              │               │
│     │  6. JWT 토큰 반환      │                              │               │
│     │◄───────────────────────│                              │               │
│     │                        │                              │               │
│     │  7. API 요청 (Bearer)  │                              │               │
│     │───────────────────────►│                              │               │
│     │                        │  8. 토큰 검증                 │               │
│     │                        │─────────┐                    │               │
│     │                        │         │                    │               │
│     │                        │◄────────┘                    │               │
│     │  9. 응답               │                              │               │
│     │◄───────────────────────│                              │               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### JWT 토큰 구조

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          JWT 토큰 구조                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   HEADER (헤더)                                                             │
│   ─────────────                                                             │
│   {                                                                         │
│     "alg": "HS256",          // 서명 알고리즘                                │
│     "typ": "JWT"             // 토큰 타입                                   │
│   }                                                                         │
│                                                                             │
│   PAYLOAD (페이로드)                                                        │
│   ──────────────────                                                        │
│   {                                                                         │
│     "sub": "user_id",        // 사용자 식별자                                │
│     "username": "neil",      // 사용자명                                    │
│     "role": "admin",         // 역할 (admin/user)                           │
│     "exp": 1735200000,       // 만료 시간 (Unix timestamp)                  │
│     "iat": 1735113600        // 발급 시간                                   │
│   }                                                                         │
│                                                                             │
│   SIGNATURE (서명)                                                          │
│   ────────────────                                                          │
│   HMACSHA256(                                                               │
│     base64UrlEncode(header) + "." + base64UrlEncode(payload),               │
│     SECRET_KEY                                                              │
│   )                                                                         │
│                                                                             │
│   보안 설정:                                                                 │
│   ├── SECRET_KEY: 환경변수로 관리 (하드코딩 금지)                            │
│   ├── 토큰 만료: 24시간 (설정 가능)                                          │
│   └── 갱신 토큰: 지원                                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 역할 기반 접근 제어 (RBAC)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                     역할 기반 접근 제어 (RBAC)                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   역할            권한                                                      │
│   ────            ────                                                      │
│                                                                             │
│   admin           ├── 사용자 관리 (생성, 수정, 삭제)                         │
│   (관리자)        ├── 시스템 설정                                           │
│                   ├── 감사 로그 조회                                        │
│                   ├── 모든 프로젝트 접근                                    │
│                   └── 통계 대시보드                                         │
│                                                                             │
│   user            ├── 본인 프로젝트 접근                                    │
│   (일반 사용자)   ├── 파일 업로드/다운로드                                   │
│                   ├── 번역 편집                                             │
│                   └── TM 사용                                               │
│                                                                             │
│   ─────────────────────────────────────────────────────────────────────    │
│                                                                             │
│   API 엔드포인트별 권한:                                                    │
│                                                                             │
│   엔드포인트                      admin    user                             │
│   ─────────────────────────────────────────────────                        │
│   GET  /api/ldm/projects           ✅       ✅                              │
│   POST /api/ldm/files/upload       ✅       ✅                              │
│   GET  /api/admin/users            ✅       ❌                              │
│   GET  /api/admin/audit-logs       ✅       ❌                              │
│   GET  /api/admin/stats            ✅       ❌                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 5. 데이터 보안

### 데이터 흐름 보안

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         데이터 흐름 보안                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   클라이언트                      서버                      데이터베이스     │
│                                                                             │
│   ┌─────────┐                 ┌─────────┐                 ┌─────────┐       │
│   │ 사용자  │                 │ FastAPI │                 │PostgreSQL│      │
│   │ 입력    │                 │         │                 │         │       │
│   └────┬────┘                 └────┬────┘                 └────┬────┘       │
│        │                           │                           │            │
│        │  ① 입력 데이터            │                           │            │
│        │─────────────────────────►│                           │            │
│        │                           │                           │            │
│        │                     ┌─────┴─────┐                     │            │
│        │                     │ ② 입력검증 │                     │            │
│        │                     │ • SQL 인젝션│                    │            │
│        │                     │ • XSS 방지  │                    │            │
│        │                     │ • 타입 검증 │                    │            │
│        │                     └─────┬─────┘                     │            │
│        │                           │                           │            │
│        │                     ┌─────┴─────┐                     │            │
│        │                     │ ③ ORM 사용 │                     │            │
│        │                     │ (Parameterized                  │            │
│        │                     │  Queries)  │                    │            │
│        │                     └─────┬─────┘                     │            │
│        │                           │                           │            │
│        │                           │  ④ 안전한 쿼리            │            │
│        │                           │─────────────────────────►│            │
│        │                           │                           │            │
│        │                           │  ⑤ 결과                  │            │
│        │                           │◄─────────────────────────│            │
│        │                           │                           │            │
│        │                     ┌─────┴─────┐                     │            │
│        │                     │ ⑥ 응답    │                     │            │
│        │                     │ 이스케이프 │                     │            │
│        │                     └─────┬─────┘                     │            │
│        │                           │                           │            │
│        │  ⑦ 안전한 응답           │                           │            │
│        │◄─────────────────────────│                           │            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 비밀 관리

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          비밀 관리 정책                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   저장 위치: 환경 변수 (.env 파일)                                           │
│   ═══════════════════════════════════                                       │
│                                                                             │
│   # 데이터베이스                                                             │
│   POSTGRES_USER=localization_admin                                          │
│   POSTGRES_PASSWORD=************                                            │
│   POSTGRES_HOST=localhost                                                   │
│   POSTGRES_PORT=5432                                                        │
│   POSTGRES_DB=localizationtools                                             │
│                                                                             │
│   # JWT 인증                                                                 │
│   JWT_SECRET_KEY=************                                               │
│   JWT_ALGORITHM=HS256                                                       │
│   JWT_EXPIRATION_HOURS=24                                                   │
│                                                                             │
│   # IP 필터링                                                                │
│   ALLOWED_IP_RANGES=10.0.0.0/8,192.168.0.0/16                               │
│                                                                             │
│   ─────────────────────────────────────────────────────────────────────    │
│                                                                             │
│   보안 규칙:                                                                 │
│   ├── ✅ .env 파일은 .gitignore에 포함                                      │
│   ├── ✅ .env.example 템플릿 제공 (실제 값 미포함)                           │
│   ├── ✅ 소스코드에 하드코딩 금지                                            │
│   └── ✅ 배포 시 환경별 .env 파일 사용                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 백업 시스템

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           백업 시스템                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   자동 백업 트리거:                                                          │
│   ├── scheduled     → 정기 백업 (설정 가능)                                  │
│   ├── pre_delete    → 삭제 전 자동 백업                                      │
│   ├── pre_import    → 대량 임포트 전 백업                                    │
│   └── manual        → 관리자 수동 백업                                       │
│                                                                             │
│   백업 유형:                                                                 │
│   ├── full          → 전체 데이터베이스                                      │
│   ├── project       → 프로젝트 단위                                          │
│   ├── file          → 파일 단위                                              │
│   └── tm            → 번역 메모리                                            │
│                                                                             │
│   보존 기간:                                                                 │
│   ├── pre_delete    → 7일                                                   │
│   ├── pre_import    → 3일                                                   │
│   ├── scheduled     → 7일                                                   │
│   └── manual        → 30일                                                  │
│                                                                             │
│   압축: GZIP (70-90% 공간 절약)                                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 6. 감사 및 모니터링

### 감사 로그 구조

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          감사 로그 구조                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   기록 항목:                                                                 │
│   ═══════════                                                               │
│                                                                             │
│   {                                                                         │
│     "timestamp": "2025-12-09T14:30:00Z",                                    │
│     "event_type": "LOGIN_SUCCESS",                                          │
│     "user_id": 42,                                                          │
│     "username": "neil",                                                     │
│     "ip_address": "192.168.1.100",                                          │
│     "user_agent": "LocaNext/2512",                                          │
│     "details": {                                                            │
│       "method": "password",                                                 │
│       "session_id": "abc123"                                                │
│     }                                                                       │
│   }                                                                         │
│                                                                             │
│   이벤트 유형:                                                               │
│   ═══════════                                                               │
│   ├── LOGIN_SUCCESS      → 로그인 성공                                      │
│   ├── LOGIN_FAILED       → 로그인 실패                                      │
│   ├── LOGOUT             → 로그아웃                                         │
│   ├── PASSWORD_CHANGE    → 비밀번호 변경                                    │
│   ├── FILE_UPLOAD        → 파일 업로드                                      │
│   ├── FILE_DELETE        → 파일 삭제                                        │
│   ├── DATA_EXPORT        → 데이터 내보내기                                   │
│   ├── PERMISSION_CHANGE  → 권한 변경                                        │
│   └── IP_BLOCKED         → IP 차단됨                                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 관리자 대시보드

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        관리자 대시보드                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │  📊 실시간 현황                                              [새로고침]│  │
│   ├─────────────────────────────────────────────────────────────────────┤  │
│   │                                                                     │  │
│   │   활성 사용자: 12      오늘 로그인: 28      차단된 IP: 3            │  │
│   │                                                                     │  │
│   │   최근 보안 이벤트:                                                 │  │
│   │   ├── 14:30 LOGIN_SUCCESS - neil (192.168.1.100)                   │  │
│   │   ├── 14:28 LOGIN_FAILED - unknown (203.45.67.89) ⚠️               │  │
│   │   ├── 14:25 FILE_UPLOAD - sarah (192.168.1.102)                    │  │
│   │   └── 14:20 IP_BLOCKED - (45.33.22.11) 🚫                          │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│   접근 가능: admin 역할만                                                   │
│   URL: http://server:5175/admin                                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 7. 네트워크 보안

### IP 필터링

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           IP 필터링                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   설정 방식: 환경 변수                                                       │
│   ═════════════════════                                                     │
│                                                                             │
│   ALLOWED_IP_RANGES=10.0.0.0/8,192.168.0.0/16,172.16.0.0/12                 │
│                                                                             │
│   동작 흐름:                                                                 │
│   ══════════                                                                │
│                                                                             │
│   요청 수신                                                                  │
│       │                                                                     │
│       ▼                                                                     │
│   ┌─────────────────┐                                                       │
│   │ IP 주소 추출    │                                                       │
│   │ (X-Forwarded-For│                                                       │
│   │  또는 직접)     │                                                       │
│   └────────┬────────┘                                                       │
│            │                                                                │
│            ▼                                                                │
│   ┌─────────────────┐        ┌─────────────────┐                           │
│   │ 화이트리스트    │──Yes──►│ 요청 처리       │                           │
│   │ 포함 여부?      │        │ (정상 진행)     │                           │
│   └────────┬────────┘        └─────────────────┘                           │
│            │ No                                                             │
│            ▼                                                                │
│   ┌─────────────────┐                                                       │
│   │ 403 Forbidden   │                                                       │
│   │ + 감사 로그     │                                                       │
│   │   (IP_BLOCKED)  │                                                       │
│   └─────────────────┘                                                       │
│                                                                             │
│   테스트 커버리지: 24개 테스트 케이스                                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### CORS 정책

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           CORS 정책                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   설정:                                                                      │
│   ══════                                                                    │
│                                                                             │
│   CORS 설정 (FastAPI):                                                      │
│   ├── allow_origins: ["http://localhost:5173", "http://localhost:5175"]    │
│   ├── allow_credentials: True                                               │
│   ├── allow_methods: ["GET", "POST", "PUT", "DELETE"]                       │
│   └── allow_headers: ["*"]                                                  │
│                                                                             │
│   보안 효과:                                                                 │
│   ════════════                                                              │
│   ├── 허용된 도메인에서만 API 호출 가능                                      │
│   ├── CSRF 공격 방지                                                        │
│   └── 무단 외부 사이트에서 API 접근 차단                                     │
│                                                                             │
│   테스트 커버리지: 11개 테스트 케이스                                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 8. 보안 테스트 현황

### 테스트 요약

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         보안 테스트 현황                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   카테고리                    테스트 수     상태                            │
│   ─────────────────────────────────────────────────────────────────────    │
│                                                                             │
│   IP 필터링                      24        ✅ 전체 통과                     │
│   ├── 허용 IP 접근                                                          │
│   ├── 차단 IP 거부                                                          │
│   ├── 잘못된 형식 처리                                                      │
│   └── 프록시 헤더 처리                                                      │
│                                                                             │
│   CORS 정책                      11        ✅ 전체 통과                     │
│   ├── 허용 Origin 검증                                                      │
│   ├── 차단 Origin 거부                                                      │
│   └── Preflight 요청 처리                                                   │
│                                                                             │
│   JWT 인증                       22        ✅ 전체 통과                     │
│   ├── 토큰 발급                                                             │
│   ├── 토큰 검증                                                             │
│   ├── 만료 처리                                                             │
│   └── 위조 토큰 거부                                                        │
│                                                                             │
│   감사 로깅                      29        ✅ 전체 통과                     │
│   ├── 로그인 이벤트 기록                                                    │
│   ├── 보안 이벤트 기록                                                      │
│   └── 로그 무결성                                                           │
│                                                                             │
│   ─────────────────────────────────────────────────────────────────────    │
│   총계                           86        ✅ 전체 통과                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 취약점 스캔

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          취약점 관리                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   CI/CD 파이프라인 보안 검사:                                                │
│   ════════════════════════════                                              │
│                                                                             │
│   빌드 시 자동 실행:                                                         │
│   ├── pip-audit (Python 패키지 취약점)                                      │
│   ├── npm audit (Node.js 패키지 취약점)                                     │
│   └── 정적 코드 분석                                                        │
│                                                                             │
│   차단 정책:                                                                 │
│   ├── CRITICAL 취약점 → 빌드 실패                                           │
│   └── HIGH 취약점 → 빌드 실패                                               │
│                                                                             │
│   현재 상태:                                                                 │
│   ├── Python 패키지: ✅ 취약점 없음                                         │
│   ├── Node.js 패키지: ✅ 취약점 없음                                        │
│   └── 마지막 스캔: 2025-12-09                                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 9. 규정 준수

### 보안 체크리스트

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         보안 체크리스트                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   항목                                              상태                    │
│   ─────────────────────────────────────────────────────────────────────    │
│                                                                             │
│   접근 제어                                                                  │
│   ├── [✅] 사용자 인증 필수                                                  │
│   ├── [✅] 역할 기반 권한 관리                                               │
│   ├── [✅] 세션 만료 정책                                                    │
│   └── [✅] 최소 권한 원칙 적용                                               │
│                                                                             │
│   네트워크 보안                                                              │
│   ├── [✅] IP 화이트리스트                                                   │
│   ├── [✅] CORS 정책                                                        │
│   ├── [📋] TLS/HTTPS (선택사항 - 사내망)                                    │
│   └── [📋] Rate Limiting (선택사항)                                         │
│                                                                             │
│   데이터 보안                                                                │
│   ├── [✅] SQL 인젝션 방지 (ORM 사용)                                        │
│   ├── [✅] XSS 방지                                                         │
│   ├── [✅] 비밀번호 해싱 (bcrypt)                                            │
│   └── [✅] 민감정보 환경변수 관리                                            │
│                                                                             │
│   감사 및 모니터링                                                           │
│   ├── [✅] 로그인 시도 기록                                                  │
│   ├── [✅] 보안 이벤트 로깅                                                  │
│   ├── [✅] 관리자 대시보드                                                   │
│   └── [✅] 로그 보존 정책                                                    │
│                                                                             │
│   개발 보안                                                                  │
│   ├── [✅] 의존성 취약점 스캔 (CI/CD)                                        │
│   ├── [✅] 코드 리뷰 프로세스                                                │
│   ├── [✅] 보안 테스트 (86개)                                                │
│   └── [✅] .env 파일 소스 관리 제외                                          │
│                                                                             │
│   ─────────────────────────────────────────────────────────────────────    │
│   완료: 18/20 항목 (90%)                                                    │
│   선택사항: 2개 (사내망 운영 시 불필요)                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 추가 권장 사항

### 향후 보안 강화 (선택사항)

| 항목 | 설명 | 우선순위 |
|------|------|----------|
| TLS/HTTPS | 외부망 노출 시 필수 | 상황에 따라 |
| Rate Limiting | API 호출 제한 | 낮음 (사내망) |
| 2FA | 이중 인증 | 중간 |
| 로그 암호화 | 감사 로그 암호화 저장 | 낮음 |

---

## 문의

보안 관련 추가 문의사항이 있으시면 개발팀으로 연락 부탁드립니다.

---

```
╔═══════════════════════════════════════════════════════════════════════════════╗
║                                                                               ║
║   문서 버전: 1.0                                                              ║
║   작성일: 2025년 12월                                                         ║
║   분류: 내부 보안 검토용                                                       ║
║                                                                               ║
╚═══════════════════════════════════════════════════════════════════════════════╝
```
